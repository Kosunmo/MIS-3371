<!--
Program name: homework4.html
Author: Kai Osunmo
Date created: 02/07/2026
Date last edited: 02/07/2026
Version: 4.0
Description: MIS 3371 Homework 4 patient registration form with Fetch API, iFrame, fixed header/footer, cookies, and localStorage.
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Northside Family Medicine - Homework 4</title>
  <link rel="stylesheet" href="style.css">
  <script src="script.js" defer></script>
</head>

<body>
  <div id="fixedHeader">
    <div id="banner">
      <img id="logo" src="logo.png" alt="Clinic Logo">
      <div id="bannerText">
        <h1>Northside Family Medicine</h1>
        <p>
          <span id="welcomeText">Hello New User</span>
          <span class="dotSep">â€¢</span>
          Today is: <span id="today">Loading...</span>
        </p>

        <div id="notYouRow" class="notYouRow" style="display:none;">
          <label>
            <input type="checkbox" id="notYouChk">
            Not <span id="cookieNameInline"></span>? Click here to start as a NEW USER.
          </label>
        </div>
      </div>
    </div>
  </div>

  <div id="page">
    <div id="content">
      <h2>Patient Registration Form</h2>

      <div class="card">
        <form id="patientForm" action="thankyou.html">

          <table class="formTable">
            <tr><th colspan="4">Patient Information</th></tr>

            <tr>
              <td class="labelCell"><label for="firstName">First Name</label></td>
              <td>
                <input type="text" id="firstName" name="firstName" required minlength="1" maxlength="30"
                       pattern="^[A-Za-z'\-]{1,30}$"
                       title="1-30 letters. Apostrophes and dashes allowed.">
                <span class="errorMsg" id="firstNameMsg"></span>
              </td>

              <td class="labelCell"><label for="middleInitial">Middle Initial</label></td>
              <td>
                <input type="text" id="middleInitial" name="middleInitial" maxlength="1"
                       pattern="^[A-Za-z]?$"
                       title="Optional. One letter only.">
                <span class="errorMsg" id="middleInitialMsg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="lastName">Last Name</label></td>
              <td>
                <input type="text" id="lastName" name="lastName" required minlength="1" maxlength="30"
                       pattern="^[A-Za-z'\-]{1,28}[2-5]?$"
                       title="1-30 letters. Apostrophes/dashes allowed. Optional ending digit 2-5 (example: Smith3).">
                <span class="errorMsg" id="lastNameMsg"></span>
              </td>

              <td class="labelCell"><label for="dob">Date of Birth</label></td>
              <td>
                <input type="date" id="dob" name="dob" required
                       title="Must not be in the future and not more than 120 years ago.">
                <span class="errorMsg" id="dobMsg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="idNumber">ID Number (9 digits)</label></td>
              <td>
                <input type="password" id="idNumber" name="idNumber" required maxlength="9"
                       inputmode="numeric"
                       pattern="^[0-9]{9}$"
                       title="Exactly 9 digits. Hidden field.">
                <span class="errorMsg" id="idNumberMsg"></span>
              </td>

              <td class="labelCell"><label for="email">Email</label></td>
              <td>
                <input type="email" id="email" name="email" required maxlength="60"
                       pattern="^[A-Za-z0-9._%+\-]+@[A-Za-z0-9.\-]+\.[A-Za-z]{2,}$"
                       placeholder="name@domain.tld"
                       title="Format: name@domain.tld">
                <span class="errorMsg" id="emailMsg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="phone">Phone</label></td>
              <td>
                <input type="text" id="phone" name="phone" maxlength="12"
                       pattern="^([0-9]{3}\-[0-9]{3}\-[0-9]{4})?$"
                       placeholder="000-000-0000"
                       title="Optional. Format: 000-000-0000">
                <span class="errorMsg" id="phoneMsg"></span>
              </td>

              <td class="labelCell"><label for="zip">Zip Code</label></td>
              <td>
                <input type="text" id="zip" name="zip" required maxlength="10"
                       pattern="^[0-9]{5}(-[0-9]{4})?$"
                       placeholder="##### or #####-####"
                       title="5 digits or ZIP+4 (we keep first 5).">
                <span class="errorMsg" id="zipMsg"></span>
              </td>
            </tr>

            <tr><th colspan="4">Address</th></tr>

            <tr>
              <td class="labelCell"><label for="addr1">Address Line 1</label></td>
              <td colspan="3">
                <input class="wideInput" type="text" id="addr1" name="addr1" required minlength="2" maxlength="30"
                       title="Required. 2-30 characters.">
                <span class="errorMsg" id="addr1Msg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="addr2">Address Line 2</label></td>
              <td colspan="3">
                <input class="wideInput" type="text" id="addr2" name="addr2" minlength="2" maxlength="30"
                       title="Optional. If entered, 2-30 characters.">
                <span class="errorMsg" id="addr2Msg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="city">City</label></td>
              <td>
                <input type="text" id="city" name="city" required minlength="2" maxlength="30"
                       title="Required. 2-30 characters.">
                <span class="errorMsg" id="cityMsg"></span>
              </td>

              <td class="labelCell"><label for="state">State</label></td>
              <td>
                <select id="state" name="state" required title="Select a state (required).">
                  <option value="">Loading...</option>
                </select>
                <span class="errorMsg" id="stateMsg"></span>
              </td>
            </tr>

            <tr><th colspan="4">Account Security</th></tr>

            <tr>
              <td class="labelCell"><label for="userId">Desired User ID</label></td>
              <td>
                <input type="text" id="userId" name="userId" required minlength="5" maxlength="30"
                       pattern="^[A-Za-z][A-Za-z0-9_-]{4,29}$"
                       title="5-30 chars. Starts with a letter. Letters/numbers/_/- only. No spaces.">
                <span class="errorMsg" id="userIdMsg"></span>
              </td>

              <td class="labelCell"><label for="password">Password</label></td>
              <td>
                <input type="password" id="password" name="password" required minlength="8" maxlength="30"
                       pattern="^(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[!@#%^&*()\\-_=+\\\\/<>.,`~])(?!.*\").{8,30}$"
                       title="8-30 chars. Upper, lower, number, special. No quotes.">
                <span class="errorMsg" id="passwordMsg"></span>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="password2">Re-enter Password</label></td>
              <td>
                <input type="password" id="password2" name="password2" required minlength="8" maxlength="30"
                       title="Must match Password.">
                <span class="errorMsg" id="pwMsg"></span>
              </td>
              <td colspan="2"></td>
            </tr>

            <tr><th colspan="4">Health History</th></tr>

            <tr>
              <td class="labelCell">Check all that apply</td>
              <td colspan="3">
                <div class="choicesGrid" title="Select all that apply.">
                  <label><input type="checkbox" name="history" value="Chicken Pox"> Chicken Pox</label>
                  <label><input type="checkbox" name="history" value="Measles"> Measles</label>
                  <label><input type="checkbox" name="history" value="Covid-19"> Covid-19</label>
                  <label><input type="checkbox" name="history" value="Small Pox"> Small Pox</label>
                  <label><input type="checkbox" name="history" value="Tetanus"> Tetanus</label>
                </div>
              </td>
            </tr>

            <tr>
              <td class="labelCell">Vaccinated?</td>
              <td colspan="3">
                <label class="inline"><input type="radio" name="vaccinated" value="Yes" required> Yes</label>
                <label class="inline"><input type="radio" name="vaccinated" value="No"> No</label>
              </td>
            </tr>

            <tr>
              <td class="labelCell">Insurance?</td>
              <td colspan="3">
                <label class="inline"><input type="radio" name="insurance" value="Yes" required> Yes</label>
                <label class="inline"><input type="radio" name="insurance" value="No"> No</label>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="healthScale">Health (1 to 10)</label></td>
              <td colspan="3">
                <div class="rangeRow">
                  <input type="range" id="healthScale" name="healthScale" min="1" max="10" value="5" title="1-10 scale">
                  <span class="rangeValue" id="healthValue">5</span>
                  <span class="hint">1 = Dead, 10 = Not Dead</span>
                </div>
              </td>
            </tr>

            <tr>
              <td class="labelCell"><label for="symptoms">Describe Symptoms</label></td>
              <td colspan="3">
                <textarea id="symptoms" name="symptoms" rows="3" cols="50" maxlength="250"
                          title='Optional. Avoid using double quotes (").'
                          placeholder="Describe symptoms here..."></textarea>
                <span class="errorMsg" id="symptomsMsg"></span>
              </td>
            </tr>

            <tr><th colspan="4">Homework 4 Items</th></tr>

            <tr>
              <td class="labelCell">Remember Me</td>
              <td colspan="3">
                <label class="inline">
                  <input type="checkbox" id="rememberMe" checked>
                  Remember me on this device (up to 48 hours)
                </label>
                <span class="smallNote">If unchecked, cookie and saved form data are removed.</span>
              </td>
            </tr>

            <tr>
              <td class="labelCell">Clinic Info (iFrame)</td>
              <td colspan="3">
                <iframe class="infoFrame" src="iframe.html" title="Northside Family Medicine Info"></iframe>
              </td>
            </tr>

            <tr>
              <td colspan="4" class="buttonsRow">
                <button type="reset" class="btnSecondary" id="resetBtn">CLEAR AND START OVER</button>
                <button type="submit" class="btnPrimary" id="submitBtn">SUBMIT</button>
              </td>
            </tr>

          </table>

          <div id="statusBox" class="statusBox">
            Tip: If Remember Me is checked, your non-secure fields will save as you fill them out.
          </div>
        </form>
      </div>
    </div>
  </div>

  <div id="fixedFooter">
    <div class="footerRow">
      <div>
        <strong>Northside Family Medicine</strong><br>
        PO BOX 18881<br>
        Sugar Land TX 77496
      </div>

      <div>
        <button type="button" class="btnFooter" onclick="alert('Contact us at info@example.com');">Contact Us</button>
      </div>

      <div class="socialLinks">
        <a href="https://twitter.com" target="_blank" rel="noopener">Twitter</a>
        <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
      </div>
    </div>
  </div>
</body>
</html>
